---
title: QEUR23_PHI3FBQ3: FBQ(Step1C)-FACT_BASED_QUESTIONを生成する
date: 2024-05-21
tags: ["QEUシステム", "メトリックス", "Python言語", "LLM", "データセット", "Fine-tuning", "イノベーション","PHI-2"]
excerpt: LLMのファインチューニングを最適化する
---

## QEUR23_PHI3FBQ3: FBQ(Step1C)-FACT_BASED_QUESTIONを生成する

## ～ これが、FACT_BASED_QUESTIONの威力だ！！ ～

QEU:FOUNDER（設定年齢65歳）  ： “前回の段階でFACT（Forward及びReverse）を得ることが出来ました。ここで、改めてFACTを含めた質問をしてみましょう。まずは、前回のEXCELファイルを入力します。”

![imageJRF1-4-1](/2024-05-21-QEUR23_PHI3SFBQ3/imageJRF1-4-1.jpg)

QEU:FOUNDER ： “プログラムは以前とほとんど同じなので、**プロンプト・エンジニアリング**の周辺部分のみを見てみましょう。ドン！！”

```python
# ---
# 推論する(STEP1B) - Answer(Step1B) : FACTを活用した、Question(Step1B)への簡単な回答
# ---
arr_output_no1 = []
for i in range(num_df):    # len(df)
    str_instruction = f"""
                        You are given the following 'QUESTION' and 'FACT' fields. Please answer the given 'QUESTION' using the given 'FACT'. In your answer, please include at least two related items in 'FACT' field in addition to your opinion. Please write your answer in English only, within 1000 words.
                        FACT```
                        {arr_FStep1_forward[i]}
                        {arr_FStep1_reverse[i]}
                        ```
                        QUESTION```
                        {arr_QStep1[i]}
                        ```
                        """
    response = chain.invoke({"text": str_instruction})
    temp_response = response.content
    str_response = temp_response.replace("**", "")
    arr_output_no1.append(str_response)
    print(str_response)
# ---
print("--- 以下は、Answer(Step1B)の一覧です ---")
print(arr_output_no1)

```

D先生（設定年齢65歳） ： “あれ？この推論の結果は見ないのですか？”

QEU:FOUNDER（設定年齢65歳）  ： “最後の「まとめ」の部分で比較しようと思います。それでは、おまちかねの**「FACT_BASED_QUESTION」**だよ！ドン！！”

```python
# ---
# 推論する(STEP2B) - Answer(Step1B)をもとにQuestion(Step2B)を生成する
# ---
arr_output_no2 = []
for i in range(num_df):    # len(df)
    #str_instruction = "さらなる議論につなげるために、次の「CONTENT」フィールドのテキストに基づいて 5 つの段落を作成してください。段落は 2 つの部分で構成され、1 つはトピック、もう 1 つは質問です。最初に、「CONTENT」フィールドから引用した 2 つのトピックを 150 語以内で記述してください。次に、それに応じて 150 語以内の関連する質問を記述してください。5 つのテキストは \"['Paragraph1'],['Paragraph2'],...\" の LIST 形式で出力してください。LIST(\"['Paragraph1'],['Paragraph2'],...\") 以外の文字は出力しないでください。"
    str_instruction = f"""In order to lead to further discussion, please create five paragraphs based on texts in the following 'CONTENT' field. The paragraph has two parts, one are topics and the other is question. You should write two topics quoted from 'CONTENT' field within 150 words first. Then you should write related question within 150 words accordingly. 
                        Please output the five texts in the LIST format of \"['Paragraph1'],['Paragraph2'],...\".
                        Do not output any characters other than LIST(\"['Paragraph1'],['Paragraph2'],...\").
                        CONTENT```
                        {arr_output_no1[i]}
                        ```
                        Please response in English.
                    """
    print(str_instruction)
    response = chain.invoke({"text": f"{str_instruction}"})
    str_response = response.content
    str_response = str_response.replace("""?', 
'""","?'], ['")
    arr_output_no2.append(str_response)
    #print(str_response)
# ---
print("--- 以下は、Question(Step2C)の一覧です ---")
print(arr_output_no2)

```

QEU:FOUNDER  ： “本当に、この部分のプロンプトエンジニアリングには苦労したわ・・・。”

***In order to lead to further discussion, please create five paragraphs based on texts in the following 'CONTENT' field. The paragraph has two parts, one are topics and the other is question. You should write two topics quoted from 'CONTENT' field within 150 words first. Then you should write related question within 150 words accordingly.***

QEU:FOUNDER  ： “キーは、**「paragraph」**です。「question」という言葉を使っていたら、factとquestionを結合させた文章はでてこないんです。”

D先生： “意外と、**LLMって頑固**なんですね。”

QEU:FOUNDER  ： “多分、LLMは**「Questionとは、'？'を含む文のことである」**と認識しているんでしょうね。”

D先生： “さて、結果が出ました。こ・・・、これは・・・。ずいぶんと変わりましたね。”

--- 以下は、Question(Step2C)の一覧です ---
- ロシアとウクライナの歴史的および民族的背景は、何世紀にもわたる複雑で多面的なトピックです。両国の関係の複雑さを理解するには、共通の歴史、民族構成、両国の間に生じた緊張関係を詳しく調べることが不可欠です。歴史的に、ロシアとウクライナは共通の遺産を共有しており、9 世紀にキエフ大公国として統一された中世にまで遡ります。 ロシアとウクライナの共通の歴史は、現在の両国の関係においてどのような役割を果たしていますか? 
- しかし、時が経つにつれて、この地域は小さな公国に分割され、14 世紀にはモスクワが強力な中心地として台頭しました。ウクライナは最終的に 18 世紀後半にロシア帝国に吸収され、その後 1922 年にソビエト連邦の一部となりました。民族構成の点では、ロシアとウクライナはどちらも多民族国家ですが、民族グループが異なります。この地域が歴史的に分断され、ウクライナがロシア帝国に吸収されたことは、両国間の現在の民族間の緊張にどのように影響したのでしょうか? 
- ロシアとウクライナ間の民族間の緊張は、両国が共有してきた歴史を通じて繰り返し現れてきたテーマです。19 世紀に勃興したウクライナ民族主義運動は、独立したウクライナ国家の樹立を目指しましたが、ロシアは長い間、ウクライナを自国の勢力圏の一部とみなしてきました。2004 年のオレンジ革命と 2013 年から 2014 年にかけてのユーロマイダン抗議運動は、ロシアが 2014 年にクリミアを併合し、ウクライナ東部の分離主義運動を支援することで、緊張をさらに悪化させました。ロシアとウクライナの間で現在も続く民族間の緊張に寄与した主な要因は何ですか? 
- 結論として、ロシアとウクライナの歴史的、民族的背景は、何世紀にもわたる複雑で絡み合った物語です。共通の東スラブの遺産、独特の民族構成、歴史的経験が、両国のアイデンティティを形成し、両国間の現在も続く緊張に寄与しています。この背景を理解することは、両国の関係の複雑さと両国間の現在も続く対立を把握する上で非常に重要です。 ロシアとウクライナの歴史的、民族的背景を理解することは、現在も続く対立の解決にどのように役立つのでしょうか? 
- ロシアは、180 を超える民族グループからなる連邦制の半大統領制立憲共和国であり、その大半はロシア民族です (約 80%)。一方、ウクライナは、ウクライナ民族が多数を占める単一制の半大統領制立憲共和国です (約 77%)。両国には、ロシアにはタタール人、バシキール人、ユダヤ人、ウクライナにはロシア人、ベラルーシ人、クリミア・タタール人など、重要な少数民族がいる。ロシアとウクライナの多様な民族構成は、両国の国内政策と外交政策にどのような影響を与えるのでしょうか？

QEU:FOUNDER ： “びっくりするでしょ？FACT_BASED_QUESTIONの威力は・・・。ここで、FACT＿BASED＿ANSWERの話に戻します。このFACT有無の推論結果を、EXCELに出力するとより明確になります。”

![imageJRF1-4-2](/2024-05-21-QEUR23_PHI3SFBQ3/imageJRF1-4-2.jpg)

D先生： “なるほど、これは「まとめ(Summary)」です。ちょっと、この2つの結果を詳細に比較したいですね。”

QEU:FOUNDER ： “それでは、最初は**「NOT_FACT_BASED」**から見てみましょう。”

- ロシアとウクライナの歴史的、民族的背景は複雑で絡み合っています。両国は共通の東スラブの伝統を共有しており、古代キエフ大公国が文化的、言語的つながりの基盤となっています。時が経つにつれ、両国は独自の経験によって形成された独自のアイデンティティを発展させました。ウクライナは、ヨーロッパに隣接し、ポーランド、リトアニア、オーストリア・ハンガリー帝国の支配を受けた地理的位置の影響を受け、西洋の文化的、宗教的要素が導入されました。一方、ロシアはモンゴルの侵攻とその後のモスクワ大公国による統一によって形成されました。
西側諸国とロシア、ウクライナの経済関係は、特にノルド ストリーム パイプライン プロジェクトに関して、大きな変化を遂げてきました。ロシアは、ウクライナへの依存を減らし、エネルギー輸出ルートの多様化を目指してきました。ノルド ストリーム パイプラインは論争の的となっており、米国や一部のヨーロッパ諸国は、この地域におけるロシアのエネルギー影響力の拡大に懸念を表明しています。
- 2022年のロシアとウクライナの戦争は、歴史的、政治的、地政学的要因の複雑な組み合わせによって引き起こされました。紛争の根源は、ウクライナで政治的および経済的不安定な時期をもたらした1991年のソ連の崩壊にまで遡ることができます。戦争は大規模な人道危機をもたらし、何百万人もの人々が避難、負傷、または死亡しました。
紛争はまた、多くのウクライナ人が近隣諸国に亡命を求めるという重大な難民危機をもたらしました。米国が主導するロシアに対する経済制裁は、世界経済と地政学に広範囲にわたる影響を及ぼしました。制裁はロシアと西側諸国間の貿易を混乱させ、世界のサプライチェーンと商品価格に影響を与えました。制裁はまた、ロシアルーブルの下落に寄与し、インフレを引き起こし、ロシア国民の購買力を低下させました。戦争は、特にBRICSとグローバルサウスの台頭の文脈で、世界の勢力均衡に大きな影響を与えました。この戦争は、伝統的な西側諸国から新興経済国、特にBRICS諸国への世界的な影響力の移行を加速させた。この移行は、中国、インド、ロシアなどの国の経済力と軍事力の増大によって推進されている。
- 東ウクライナと西ウクライナの根底にある文化的、宗教的相違が紛争の一因となっている。西ウクライナはカトリックとユニエイトの伝統が強く、東ウクライナは主に正教会のキリスト教徒が居住している。これらの相違が東ウクライナと西ウクライナの異なるアイデンティティと世界観を生み、現在進行中の紛争で衝突している。ロシアとウクライナの軍事的、経済的格差は、紛争に重大な影響を及ぼしている。ロシアの軍事的優位性と経済的影響力はウクライナに大きな圧力をかけているが、ウクライナの軍事的、経済的立場が弱いため、ロシアの侵略に抵抗する能力が制限されている。この紛争は重大な人道的危機をもたらし、何百万人もの人々が避難、負傷、または死亡した。また、この戦争は重大な難民危機を招き、多くのウクライナ人が近隣諸国に亡命を求めている。

D先生： “可もなければ不可もない。「まあ、そんなもんか・・・。」という感じですね。”

QEU:FOUNDER  ： “次は**「FACT_BASED」**の結果を見てみましょう。”

- ロシアとウクライナの歴史的、民族的背景は複雑で多面的であり、何世紀にもわたっています。両国は、中世にキエフ大公国として統一されていた時代にまで遡る共通の遺産を共有しています。この共通の東スラブの遺産は、両国の文化的、言語的つながりに大きな影響を与えてきました。しかし、時が経つにつれて、この地域は小さな公国に分割され、14 世紀にはモスクワが強力な中心地として台頭しました。ウクライナは最終的に 18 世紀後半にロシア帝国に吸収され、その後 1922 年にソビエト連邦の一部となりました。
- 西側諸国とロシアおよびウクライナの経済関係は、特にノルド ストリーム パイプラインに関して大きな変化を遂げてきました。このパイプラインは、ウクライナや他の東ヨーロッパ諸国を迂回してロシアとドイツを結びます。これにより、通過国としてのウクライナの重要性が低下し、通過料が大幅に減少しました。米国もノルド ストリームを批判しており、建設に携わる企業に制裁を課しています。 
2022年のロシアとウクライナの戦争は、数千人の民間人の死傷者と避難民を伴う大規模な人道危機を含む重大な結果をもたらしました。紛争はまた、インフラ、産業、農業部門の広範な破壊により、ウクライナ経済に壊滅的な影響を与えました。戦争はまた、世界の政治と経済に広範囲にわたる影響を及ぼしました。
米国主導のロシアに対する経済制裁は、世界経済と地政学に広範囲にわたる影響を及ぼしました。制裁はロシア経済に影響を与えただけでなく、世界経済にも波及効果をもたらし、エネルギー価格の上昇と世界貿易の減少につながりました。その結果、グローバル・サウスの台頭とBRICS諸国の台頭により、世界の勢力均衡が変化しました。戦争はまた、グローバル・サウスの台頭とエネルギー安全保障とエネルギー源の多様化の重要性の高まりにより、多極的な世界秩序への移行を加速させました。ロシアに課せられた経済制裁は、ルーブルの価値の下落、高インフレ、外国投資の大幅な減少など、ロシア経済に大きな影響を与えています。
- 停戦と紛争の平和的解決の見通しは不透明ですが、外交努力と経済的圧力により、交渉による解決の機会が生まれる可能性があります。国際機関の関与と経済制裁の実施は、平和的解決の枠組みを提供できる可能性があります。外交は紛争の平和的解決を達成する上で重要な役割を果たしており、OSCEなどの国際機関の関与は平和的解決の枠組みを提供できる可能性があります。
結論として、ロシアとウクライナの紛争は複雑で多面的な問題であり、深い歴史的ルーツを持ち、世界経済と地政学に重大な影響を及ぼしています。紛争の歴史的および民族的背景、および影響している経済的および外交的要因を理解することは、紛争の複雑さを把握し、平和的解決策を見つける上で非常に重要です。

D先生： “「FACT_BASED」では、**ノルドストリームと通過料の話**がなされています。”

QEU:FOUNDER  ： “パイプラインの通過料の件は、U-R紛争の本質ですからね。とある識者（↓）も指摘しています。”

![imageJRF1-4-3](/2024-05-21-QEUR23_PHI3SFBQ3/imageJRF1-4-3.jpg)

QEU:FOUNDER  ： “あと、もう一つのポイントはR国の経済とエネルギー問題でしょうか・・・。「FACT＿BASED」では、R国の経済は悪化しているという記述にはなっていません。すなわち、前回のまとめにあった**「購買力低下」という言葉が抜けました**から・・・。”

![imageJRF1-4-4](/2024-05-21-QEUR23_PHI3SFBQ3/imageJRF1-4-4.jpg)

D先生： “現実には、R国は紛争後に大きく経済発展を始めています。**A国の経済制裁が自国通貨決済を促進し、希少な資源を持つ国に有利になってきたんですね。これはBRICSやグローバルサウスの影響力が強化されている理由でもあります**。多分ですが、このLLMの中には2022年末までの情報しかないので、現在の情報を使えば、さらにまとめの言い方が変わるんじゃないでしょうか・・・。”

QEU:FOUNDER  ： “一旦、ここまでの議論をまとめましょう。確かに、今回の作業は手間がかかっていることは認めます。・・・でも、結果としてみれば、CrewAI（本格的AGI）を動かしていることと同じじゃないですか？”

D先生： “最新情報が得られていないという制限の下では、簡易AGIと本格的AGIの機能は同じですね。「FACT_BASED_QUESTION」は、次のステップ（深堀り）に使うんですか？”

QEU:FOUNDER  ： “今回のアウトプットの類似度分析はしません。今回と前回の2種（FACT or NOT）の質問と回答を見た所、大まかな内容には、それほどの差異はないと思います。”

D先生： “あまりに処理が複雑になっても困りますよね。じゃあ、STEP2に進みましょう。”

QEU:FOUNDER ： “ここでやっている「簡易AGI」のプロジェクトの目的は、**あくまでファインチューニングの訓練用データセットを作ること**です。つまり、「FACT_BASED_QUESTION」のデータは、LLMの「Question to Question」のトレーニング用です。それでは、さらに問題を深堀りしましょう。それではカンパをお願いします。よろしくお願いします。”

### [＞寄付のお願い(click here for buy me a cup of coffee)＜](https://www.paypal.com/paypalme/QEUglobal?v=1&utm_source=unp&utm_medium=email&utm_campaign=RT000481&utm_unptid=29844400-7613-11ec-ac72-3cfdfef0498d&ppid=RT000481&cnac=HK&rsta=en_GB%28en-HK%29&cust=5QPFDMW9B2T7Q&unptid=29844400-7613-11ec-ac72-3cfdfef0498d&calc=f860991d89600&unp_tpcid=ppme-social-business-profile-creat-ed&page=main%3Aemail%3ART000481&pgrp=main%3Aemail&e=cl&mchn=em&s=ci&mail=sys&appVersion=1.71.0&xt=104038)

D先生： “こういうLLMの使い方があるとは・・・。これは勉強になりましたね。”



## ～ まとめ ～

QEU:FOUNDER ： “このお方は、ひそかにあちこちで講義をしているようですね。”

[![MOVIE1](http://img.youtube.com/vi/cBXxzoki_5s/0.jpg)](http://www.youtube.com/watch?v=cBXxzoki_5s "電通に忖度する大手メディアの実態")

C部長 : “基本は知っている情報ですが、どんどんアップデートされています。”

![imageJRF1-4-5](/2024-05-21-QEUR23_PHI3SFBQ3/imageJRF1-4-5.jpg)

QEU:FOUNDER ： “このマンガとは、**「表と裏」**ですよね。”

C部長 : “**「流行とは何だったのか。」**この本質的な質問に対して、マンガは答えてくれません。”

QEU:FOUNDER ： “役割が違うと言えばそれまでだが・・・。”

C部長 : “いまから思えば、**もっと違う考え方があった**とも思いますね。もっと前に知っていれば、世の中が少しは変わっていたかもしれません。”

